schema: '2.0'
stages:
  prepare_data:
    cmd: python ./scripts/prepare_data.py
    deps:
    - path: ./data/input/target.csv
      hash: md5
      md5: c18dd7295382692a264ebc6d89eb5391
      size: 3409
    - path: ./scripts/prepare_data.py
      hash: md5
      md5: 6970afe5181ed0644d5d9448c8c235c2
      size: 543
    params:
      params.yaml:
        grid:
        - '0'
        - '1'
        - '2'
        - '3'
    outs:
    - path: ./data/output/prepare_data/0_target.csv
      hash: md5
      md5: 7a7fcf621ef5cf3e5e06347ec9365b50
      size: 3409
    - path: ./data/output/prepare_data/1_target.csv
      hash: md5
      md5: e4dcebce4955ce047ed9387591dc59c9
      size: 3409
    - path: ./data/output/prepare_data/2_target.csv
      hash: md5
      md5: 09c0bd27c1f6beb00c6cc2c04cc12592
      size: 3409
    - path: ./data/output/prepare_data/3_target.csv
      hash: md5
      md5: 223bb9884b9938465c1d69b76fbf1f09
      size: 3409
  train@0:
    cmd: python scripts/train.py --max_depth 5 --labels_path data/output/prepare_data/0_target.csv
      --data_path data/input/features.csv --model_path data/output/models/0_model.pickle
      --metrics_path data/output/metrics/0_metrics.yaml
    deps:
    - path: ./data/input/features.csv
      hash: md5
      md5: 4897a53a13996d85c8cc252a36e1f3d5
      size: 59816
    - path: data/input/features.csv
      hash: md5
      md5: 4897a53a13996d85c8cc252a36e1f3d5
      size: 59816
    - path: data/output/prepare_data/0_target.csv
      hash: md5
      md5: 7a7fcf621ef5cf3e5e06347ec9365b50
      size: 3409
    - path: scripts/train.py
      hash: md5
      md5: a006399cb767a1d24689fb4cbe6db485
      size: 2302
    outs:
    - path: data/output/metrics/0_metrics.yaml
      hash: md5
      md5: 0c1517d9484e71a6a5efd1aae7768ee3
      size: 96
    - path: data/output/models/0_model.pickle
      hash: md5
      md5: c2069e2757f7664adc312d0ccced8a8e
      size: 3126
  train@1:
    cmd: python scripts/train.py --max_depth 5 --labels_path data/output/prepare_data/1_target.csv
      --data_path data/input/features.csv --model_path data/output/models/1_model.pickle
      --metrics_path data/output/metrics/1_metrics.yaml
    deps:
    - path: ./data/input/features.csv
      hash: md5
      md5: 4897a53a13996d85c8cc252a36e1f3d5
      size: 59816
    - path: data/input/features.csv
      hash: md5
      md5: 4897a53a13996d85c8cc252a36e1f3d5
      size: 59816
    - path: data/output/prepare_data/1_target.csv
      hash: md5
      md5: e4dcebce4955ce047ed9387591dc59c9
      size: 3409
    - path: scripts/train.py
      hash: md5
      md5: a006399cb767a1d24689fb4cbe6db485
      size: 2302
    outs:
    - path: data/output/metrics/1_metrics.yaml
      hash: md5
      md5: a0190e9aa9c0cca8f160d378da8cf17d
      size: 66
    - path: data/output/models/1_model.pickle
      hash: md5
      md5: f9e4a40d7b4b3f7ce104c0718d51ce9e
      size: 2486
  train@2:
    cmd: python scripts/train.py --max_depth 20 --labels_path data/output/prepare_data/2_target.csv
      --data_path data/input/features.csv --model_path data/output/models/2_model.pickle
      --metrics_path data/output/metrics/2_metrics.yaml
    deps:
    - path: ./data/input/features.csv
      hash: md5
      md5: 4897a53a13996d85c8cc252a36e1f3d5
      size: 59816
    - path: data/input/features.csv
      hash: md5
      md5: 4897a53a13996d85c8cc252a36e1f3d5
      size: 59816
    - path: data/output/prepare_data/2_target.csv
      hash: md5
      md5: 09c0bd27c1f6beb00c6cc2c04cc12592
      size: 3409
    - path: scripts/train.py
      hash: md5
      md5: a006399cb767a1d24689fb4cbe6db485
      size: 2302
    outs:
    - path: data/output/metrics/2_metrics.yaml
      hash: md5
      md5: 4d474cf1c8d5207a5842c6123f0c888a
      size: 86
    - path: data/output/models/2_model.pickle
      hash: md5
      md5: c451f995f298aab07c8561605db3a338
      size: 3766
  train@3:
    cmd: python scripts/train_random_forest.py --max_depth 5 --n_estimators 30 --labels_path
      data/output/prepare_data/3_target.csv --data_path data/input/features.csv --model_path
      data/output/models/3_model.pickle --metrics_path data/output/metrics/3_metrics.yaml
    deps:
    - path: ./data/input/features.csv
      hash: md5
      md5: 4897a53a13996d85c8cc252a36e1f3d5
      size: 59816
    - path: data/input/features.csv
      hash: md5
      md5: 4897a53a13996d85c8cc252a36e1f3d5
      size: 59816
    - path: data/output/prepare_data/3_target.csv
      hash: md5
      md5: 223bb9884b9938465c1d69b76fbf1f09
      size: 3409
    - path: scripts/train_random_forest.py
      hash: md5
      md5: b87ee6ce1dc931f71723614e44ed0a32
      size: 2313
    outs:
    - path: data/output/metrics/3_metrics.yaml
      hash: md5
      md5: bdba25dee9e172877af9541bcfd97ac0
      size: 94
    - path: data/output/models/3_model.pickle
      hash: md5
      md5: 1edecbc526b25c60b3e6ba7a7d9d15c7
      size: 209123
